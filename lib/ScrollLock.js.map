{"version":3,"sources":["../src/ScrollLock.jsx"],"names":["ScrollLock","props","listenToWheelEvent","bind","stopListeningToWheelEvent","onScrollHandler","setScrollingElement","cancelScrollEvent","enabled","nextProps","fn","scrollingElement","addEventListener","removeEventListener","e","elem","scrollTop","scrollHeight","clientHeight","wheelDelta","deltaY","isDeltaPositive","shouldCancelScroll","r","firstChild","stopImmediatePropagation","preventDefault","children","defaultProps"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;IAEMA,U;;;AACF,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA,4HACTA,KADS;;AAEf,cAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,OAA1B;AACA,cAAKC,yBAAL,GAAiC,MAAKA,yBAAL,CAA+BD,IAA/B,OAAjC;AACA,cAAKE,eAAL,GAAuB,MAAKA,eAAL,CAAqBF,IAArB,OAAvB;AACA,cAAKG,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBH,IAAzB,OAA3B;AACA,cAAKI,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBJ,IAAvB,OAAzB;AANe;AAOlB;;;;4CAEmB;AAChB,gBAAI,KAAKF,KAAL,CAAWO,OAAf,EAAwB;AACpB,qBAAKN,kBAAL;AACH;AACJ;;;kDAEyBO,S,EAAW;AACjC,gBAAI,KAAKR,KAAL,CAAWO,OAAX,KAAuBC,UAAUD,OAArC,EAA6C;AACzC,oBAAME,KAAKD,UAAUD,OAAV,GAAoB,KAAKN,kBAAzB,GAA8C,KAAKE,yBAA9D;AACAM;AACH;AACJ;;;+CAEsB;AACnB,iBAAKN,yBAAL;AACH;;;6CAEoB;AACjB,iBAAKO,gBAAL,CAAsBC,gBAAtB,CAAuC,OAAvC,EAAgD,KAAKP,eAArD,EAAsE,KAAtE;AACH;;;oDAE2B;AACxB,iBAAKM,gBAAL,CAAsBE,mBAAtB,CAA0C,OAA1C,EAAmD,KAAKR,eAAxD,EAAyE,KAAzE;AACH;;;wCAEeS,C,EAAG;AACf,gBAAMC,OAAO,KAAKJ,gBAAlB;AADe,gBAEPK,SAFO,GAEmCD,IAFnC,CAEPC,SAFO;AAAA,gBAEIC,YAFJ,GAEmCF,IAFnC,CAEIE,YAFJ;AAAA,gBAEkBC,YAFlB,GAEmCH,IAFnC,CAEkBG,YAFlB;;AAGf,gBAAMC,aAAaL,EAAEM,MAArB;AACA,gBAAMC,kBAAkBF,aAAa,CAArC;;AAEA,gBAAIG,qBAAqB,KAAzB;AACA,gBAAID,mBAAmBF,aAAaF,eAAeC,YAAf,GAA8BF,SAAlE,EAA6E;AACzED,qBAAKC,SAAL,GAAiBC,YAAjB;AACAK,qCAAqB,IAArB;AACH,aAHD,MAGO,IAAI,CAACD,eAAD,IAAoB,CAACF,UAAD,GAAcH,SAAtC,EAAiD;AACpDD,qBAAKC,SAAL,GAAiB,CAAjB;AACAM,qCAAqB,IAArB;AACH;;AAED,gBAAIA,kBAAJ,EAAwB;AACpB,qBAAKf,iBAAL,CAAuBO,CAAvB;AACH;AACJ;;;4CAEmBS,C,EAAG;AACnB,iBAAKZ,gBAAL,GAAwBY,KAAKA,EAAEC,UAA/B;AACH;;;0CAEiBV,C,EAAG;AACjBA,cAAEW,wBAAF;AACAX,cAAEY,cAAF;AACA,mBAAO,KAAP;AACH;;;iCAEQ;AACL,mBACI;AAAA;AAAA,kBAAK,KAAK,KAAKpB,mBAAf;AACK,qBAAKL,KAAL,CAAW0B;AADhB,aADJ;AAKH;;;;;;AAGL3B,WAAW4B,YAAX,GAA0B;AACtBpB,aAAS;AADa,CAA1B;;kBAIeR,U","file":"ScrollLock.js","sourcesContent":["import React, { Component } from 'react';\n\nclass ScrollLock extends Component {\n    constructor(props) {\n        super(props);\n        this.listenToWheelEvent = this.listenToWheelEvent.bind(this);\n        this.stopListeningToWheelEvent = this.stopListeningToWheelEvent.bind(this);\n        this.onScrollHandler = this.onScrollHandler.bind(this);\n        this.setScrollingElement = this.setScrollingElement.bind(this);\n        this.cancelScrollEvent = this.cancelScrollEvent.bind(this);\n    }\n\n    componentDidMount() {\n        if (this.props.enabled) {\n            this.listenToWheelEvent();\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.props.enabled !== nextProps.enabled){\n            const fn = nextProps.enabled ? this.listenToWheelEvent : this.stopListeningToWheelEvent;\n            fn();\n        }\n    }\n\n    componentWillUnmount() {\n        this.stopListeningToWheelEvent();\n    }\n\n    listenToWheelEvent() {\n        this.scrollingElement.addEventListener('wheel', this.onScrollHandler, false);\n    }\n\n    stopListeningToWheelEvent() {\n        this.scrollingElement.removeEventListener('wheel', this.onScrollHandler, false);\n    }\n\n    onScrollHandler(e) {\n        const elem = this.scrollingElement;\n        const { scrollTop, scrollHeight, clientHeight } = elem;\n        const wheelDelta = e.deltaY;\n        const isDeltaPositive = wheelDelta > 0;\n\n        let shouldCancelScroll = false;\n        if (isDeltaPositive && wheelDelta > scrollHeight - clientHeight - scrollTop) {\n            elem.scrollTop = scrollHeight;\n            shouldCancelScroll = true;\n        } else if (!isDeltaPositive && -wheelDelta > scrollTop) {\n            elem.scrollTop = 0;\n            shouldCancelScroll = true;\n        }\n\n        if (shouldCancelScroll) {\n            this.cancelScrollEvent(e);\n        }\n    };\n\n    setScrollingElement(r) {\n        this.scrollingElement = r && r.firstChild;\n    };\n\n    cancelScrollEvent(e) {\n        e.stopImmediatePropagation();\n        e.preventDefault();\n        return false;\n    };\n\n    render() {\n        return (\n            <div ref={this.setScrollingElement}>\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nScrollLock.defaultProps = {\n    enabled: true\n};\n\nexport default ScrollLock;\n"]}